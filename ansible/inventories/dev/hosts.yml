# Development Environment Inventory
# Demonstrates dynamic inventory structure

all:
  vars:
    ansible_user: ubuntu
    ansible_python_interpreter: /usr/bin/python3
    environment: dev
    project_name: ddgo

  children:
    webservers:
      hosts:
        web-dev-01:
          ansible_host: 10.0.1.10
          nginx_worker_processes: auto
        web-dev-02:
          ansible_host: 10.0.1.11
          nginx_worker_processes: auto
      vars:
        nginx_listen_port: 80
        nginx_upstream_servers:
          - "127.0.0.1:5000"

    appservers:
      hosts:
        app-dev-01:
          ansible_host: 10.0.2.10
          app_workers: 2
        app-dev-02:
          ansible_host: 10.0.2.11
          app_workers: 2
      vars:
        app_port: 5000
        app_user: ddgo
        app_group: ddgo

    dbservers:
      hosts:
        db-dev-01:
          ansible_host: 10.0.3.10
          postgresql_version: "16"
      vars:
        postgresql_max_connections: 100
        postgresql_shared_buffers: "256MB"

    monitoring:
      hosts:
        monitoring-dev-01:
          ansible_host: 10.0.4.10
      vars:
        prometheus_retention_time: "15d"
        grafana_admin_password: "{{ vault_grafana_password }}"

    # Group for all servers
    servers:
      children:
        webservers:
        appservers:
        dbservers:
        monitoring:
